<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Todo List</title>
    <style>
        body {
        font-family: Arial, sans-serif;
        margin: 20px;
        font-size: 18px; /* ì „ì²´ ê¸°ë³¸ ê¸€ì”¨ í¬ê¸° í‚¤ì›€ */
        text-align: center;
        }

        .logo {
        width: 40px;
        height: 40px;
        vertical-align: middle; /* ê¸€ìì™€ ìˆ˜ì§ ì •ë ¬ */
        margin-right: 10px;      /* ê¸€ìë‘ ê°„ê²© */
        }

        h1 {
        font-size: 32px;           /* ê¸€ì”¨ í¬ê¸° */
        color: #2c3e50;          /* ê¸€ì”¨ ìƒ‰ìƒ */
        text-align: center;        /* ê°€ìš´ë° ì •ë ¬ */
        margin-bottom: 20px;       /* ì•„ë˜ ì—¬ë°± */
        }

        #todo-input, .edit-input {
        font-size: 16px;
        padding: 8px;
        width: 250px;
        box-sizing: border-box;
        }

        #add-btn {
        font-size: 16px;
        padding: 8px 15px;
        }

        #todo-list li {
        list-style-type: none;
        margin: 12px 0;
        font-size: 18px; /* ê¸€ì”¨ í¬ê¸° */
        text-align: center;
        }

        #todo-list button {
        font-size: 16px;
        padding: 5px 10px;
        margin-left: 8px;
        }

        button,
        input[type="button"] {
        border-radius: 4px;        /* ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ */
        padding: 8px 16px;
        font-size: 15px;
        border: 1px solid #ccc;     /* í…Œë‘ë¦¬ */
        background-color: #f5f5f5;  /* ê¸°ë³¸ ë°°ê²½ */
        transition: background 0.3s;
        }


    </style>
</head>
<body>

<h1><span id="logo"></span>ğŸ“ ToDo List</h1>

<!-- ì…ë ¥ì°½ & ì¶”ê°€ ë²„íŠ¼ -->
<input type="text" id="todo-input" size="30" placeholder="í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”">
<input type="button" id="add-btn" value="ì¶”ê°€">

<!-- í•  ì¼ ë¦¬ìŠ¤íŠ¸ê°€ ë“¤ì–´ê°ˆ ì˜ì—­ -->
<ul id="todo-list"></ul>

<script>
    // JSON ë°ì´í„° (ì´ˆê¸°ê°’)
    let users = {
      "name": "sohee",
      "todo": [
        { "task": "ì•„ì¹¨ë¨¹ê¸°", "done": false },
        { "task": "ì½”ë”©í•˜ê¸°", "done": false },
        { "task": "ì–‘ì¹˜í•˜ê¸°", "done": true }
      ]
    };

    // localStorageì— ì €ì¥ (ì²˜ìŒ ì‹¤í–‰ ì‹œ)
    if (!localStorage.getItem("users")) {
      localStorage.setItem("users", JSON.stringify(users));
    } else {
      // ì €ì¥ëœ ê²Œ ìˆìœ¼ë©´ ë¶ˆëŸ¬ì˜¤ê¸°
      users = JSON.parse(localStorage.getItem("users"));
    }

    // í•  ì¼ ì¶”ê°€ í•¨ìˆ˜
    function addTodo() {
      let input = document.getElementById("todo-input");
      let newTask = input.value.trim();

      if (newTask !== "") {
        // todo ë°°ì—´ì— ìƒˆ í•  ì¼ ì¶”ê°€
        users.todo.push({ task: newTask, done: false });

        // localStorage ê°±ì‹ 
        localStorage.setItem("users", JSON.stringify(users));

        // í™”ë©´ì— ì¶œë ¥
        render();

        // ì…ë ¥ì°½ ë¹„ìš°ê¸°
        input.value = "";
      }
    }

    // ë²„íŠ¼ í´ë¦­ ì‹œ ì¶”ê°€
    document.getElementById("add-btn").addEventListener("click", addTodo);

    // ì—”í„° ì…ë ¥ ì‹œ ì¶”ê°€
    document.getElementById("todo-input").addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        e.preventDefault();
        addTodo();
      }
    });

    // í™”ë©´ì— ë¦¬ìŠ¤íŠ¸ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜
    function render() {
    let list = document.getElementById("todo-list");
    list.innerHTML = "";

    users.todo.forEach((item, index) => {
        let li = document.createElement("li");

        // ===== í…ìŠ¤íŠ¸ í‘œì‹œ ë¶€ë¶„ =====
        let span = document.createElement("span");
        span.textContent = item.task;
        li.appendChild(span);

        // ===== ìˆ˜ì • ë²„íŠ¼ =====
        let editBtn = document.createElement("button");
        editBtn.textContent = "ìˆ˜ì •";
        editBtn.addEventListener("click", () => {
        // input íƒœê·¸ ìƒì„±
        let input = document.createElement("input");
        input.type = "text";
        input.value = item.task;
        input.size = 30;
        input.className = "edit-input";

        // ì €ì¥ ë²„íŠ¼
        let saveBtn = document.createElement("button");
        saveBtn.textContent = "ì €ì¥";
        saveBtn.addEventListener("click", () => {
            let newTask = input.value.trim();
            if (newTask !== "") {
            users.todo[index].task = newTask;
            localStorage.setItem("users", JSON.stringify(users));
            render();
            }
        });

        // li ì•ˆ ë¹„ìš°ê³  êµì²´
        li.innerHTML = "";
        li.appendChild(input);
        li.appendChild(saveBtn);
        });

        // ===== ì‚­ì œ ë²„íŠ¼ =====
        let delBtn = document.createElement("button");
        delBtn.textContent = "ì‚­ì œ";
        delBtn.addEventListener("click", () => {
        users.todo.splice(index, 1);
        localStorage.setItem("users", JSON.stringify(users));
        render();
        });

        li.appendChild(editBtn);
        li.appendChild(delBtn);
        list.appendChild(li);
    });
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ê¸°ì¡´ ë°ì´í„° ì¶œë ¥
    render();
</script>

</body>
</html>
